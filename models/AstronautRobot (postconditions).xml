<taskModel about="urn:shayganfar.wpi.edu:models:AstronautRobot" 
           xmlns="http://www.cs.wpi.edu/~rich/cetask/cea-2018-ext"
           xmlns:disco="urn:disco.wpi.edu:Disco">

  <task id="InstallSolarPanel">
		<precondition>true</precondition>
		<postcondition> post_PrepareControlSwitch &amp;&amp; post_RemoveCover &amp;&amp; post_ConnectAdaptor &amp;&amp; post_PlacePanel &amp;&amp; post_WeldPanel &amp;&amp; post_CheckPanelAttachment &amp;&amp; post_CheckWirings &amp;&amp; post_CheckControlSwitch &amp;&amp; post_CheckCascadingCells &amp;&amp; post_CheckOutputCurrent </postcondition>
    <subtasks id="recipeA" ordered="false">
      <step name="prepare" task ="PreparePanel"/>
      <step name="fix" task="FixPanel"/>
      <step name="check" task="CheckPanel"/>
    </subtasks>
  </task>

  <task id="PreparePanel">
		<precondition>true</precondition>
		<postcondition> post_PrepareControlSwitch &amp;&amp; post_RemoveCover &amp;&amp; post_ConnectAdaptor</postcondition>
    <subtasks id="recipeB" ordered="false">
      <step name="switch" task ="PrepareControlSwitch"/>
      <step name="connector" task="PrepareConnector"/>

      <binding slot="$switch.external" value="false"/>
    </subtasks>
  </task>

  <task id="FixPanel">
		<precondition>true</precondition>
		<postcondition> post_PlacePanel &amp;&amp; post_WeldPanel </postcondition>
    <subtasks id="recipeC" ordered="false">
      <step name="place" task ="PlacePanel"/>
      <step name="weld" task="WeldPanel"/>

      <binding slot="$place.external" value="false"/>
      <binding slot="$weld.external" value="false"/>
    </subtasks>
  </task>

  <task id="CheckPanel">
		<precondition>true</precondition>
		<postcondition> post_CheckPanelAttachment &amp;&amp; post_CheckWirings &amp;&amp; post_CheckControlSwitch &amp;&amp; post_CheckCascadingCells &amp;&amp; post_CheckOutputCurrent </postcondition>
    <subtasks id="recipeD" ordered="false">
      <step name="hardware" task ="CheckHardware"/>
      <step name="function" task="CheckFunction"/>
    </subtasks>
  </task>

  <task id="PrepareConnector">
		<precondition>true</precondition>
		<postcondition> post_RemoveCover &amp;&amp; post_ConnectAdaptor </postcondition>
    <subtasks id="recipeF" ordered="false">
      <step name="cover" task ="RemoveCover"/>
      <step name="adaptor" task ="ConnectAdaptor"/>

      <binding slot="$cover.external" value="false"/>
      <binding slot="$adaptor.external" value="false"/>
    </subtasks>
  </task>

  <task id="CheckHardware">
		<precondition>true</precondition>
		<postcondition> post_CheckPanelAttachment &amp;&amp; post_CheckWirings </postcondition>
    <subtasks id="recipeI" ordered="false">
      <step name="panelattachment" task ="CheckPanelAttachment"/>
      <step name="wirings" task ="CheckWirings"/>

      <binding slot="$panelattachment.external" value="false"/>
      <binding slot="$wirings.external" value="false"/>
    </subtasks>
  </task>

  <task id="CheckFunction">
		<precondition>true</precondition>
		<postcondition> post_CheckControlSwitch &amp;&amp; post_CheckCascadingCells &amp;&amp; post_CheckOutputCurrent </postcondition>
    <subtasks id="recipeJ" ordered="false">
      <step name="controlswitch" task ="CheckControlSwitch"/>
      <step name="cascadingcells" task ="CheckCascadingCells"/>
      <step name="outputcurrent" task ="CheckOutputCurrent"/>

      <binding slot="$controlswitch.external" value="false"/>
      <binding slot="$cascadingcells.external" value="false"/>
      <binding slot="$outputcurrent.external" value="false"/>
    </subtasks>
  </task>

  <task id="PrepareControlSwitch">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_PrepareControlSwitch </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="RemoveCover">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_RemoveCover </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="ConnectAdaptor">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_ConnectAdaptor </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="PlacePanel">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_PlacePanel </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="WeldPanel">
		<input name="tool" type="Packages.MetaInformation.World.WeldingTool" />
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_WeldPanel </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="CheckPanelAttachment">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_CheckPanelAttachment </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="CheckWirings">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_CheckWirings </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="CheckControlSwitch">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_CheckControlSwitch </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="CheckCascadingCells">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_CheckCascadingCells </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  <task id="CheckOutputCurrent">
		<precondition>true</precondition>
		<postcondition> Packages.MetaInformation.World.post_CheckOutputCurrent </postcondition>
		<script>Packages.MetaInformation.World.getExecutionOutcome();</script>
	</task>
  
	<script init="true">
		// function WeldingTool (name) { this.name = name; }

		// WeldingTool.prototype.toString = function () { return this.name; }

		// var MyWeldingTool = new WeldingTool("MyWeldingTool");
		// var MyWeldingTool = Packages.MetaInformation.World.WeldingTool.MY_WELDING_TOOL; // Based on the Java code.
	</script>
</taskModel>
